version: '2'
services:
    webserver:
        container_name: laravel_web
        build: ./docker
        ports:
        - '80:80'
        volumes:
        - ./:/var/www/html
        - ./apache.conf:/etc/apache2/sites-available/000-default.conf
        links:
        - db

    db:
        image: mysql:8.0
        container_name: laravel_db
        volumes:
        - "./data/db:/var/lib/mysql"
        restart: always
        environment:
            -MYSQL_ROOT_PASSWORD: root
            -MYSQL_DATABASE: laravel_ddb
            -MYSQL_USER: laravel
            -MYSQL_PASSWORD: laravel
        ports:
        - "3306:3306"
